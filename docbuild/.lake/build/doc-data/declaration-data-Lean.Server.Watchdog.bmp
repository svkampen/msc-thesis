{"name":"Lean.Server.Watchdog","instances":[{"typeNames":["Lean.Server.Watchdog.CallHierarchyItemData"],"name":"Lean.Server.Watchdog.instFromJsonCallHierarchyItemData","className":"Lean.FromJson"},{"typeNames":["Lean.Server.Watchdog.CallHierarchyItemData"],"name":"Lean.Server.Watchdog.instToJsonCallHierarchyItemData","className":"Lean.ToJson"}],"imports":["Init.System.IO","Init.System.Mutex","Init.Data.ByteArray","Lean.Data.RBMap","Lean.Util.Paths","Lean.Data.FuzzyMatching","Lean.Data.Json","Lean.Data.Lsp","Lean.Server.Utils","Lean.Server.Requests","Lean.Server.References"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L1218-L1228","name":"Lean.Server.Watchdog.watchdogMain","line":1218,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.watchdogMain","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.watchdogMain\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">watchdogMain</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(args : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#String\">String</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L1177-L1216","name":"Lean.Server.Watchdog.initAndRunWatchdog","line":1177,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdog\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">initAndRunWatchdog</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(args : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#String\">String</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(i o e : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L1155-L1175","name":"Lean.Server.Watchdog.startLoadingReferences","line":1155,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startLoadingReferences","doc":"Starts loading .ileans present in the search path asynchronously in an IO task.\nThis ensures that server startup is not blocked by loading the .ileans.\nIn return, while the .ileans are being loaded, users will only get incomplete\nresults in requests that need references.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startLoadingReferences\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">startLoadingReferences</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(references : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/References.html#Lean.Server.References\">Lean.Server.References</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L1146-L1153","name":"Lean.Server.Watchdog.findWorkerPath","line":1146,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findWorkerPath","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findWorkerPath\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">findWorkerPath</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L1099-L1144","name":"Lean.Server.Watchdog.initAndRunWatchdogAux","line":1099,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdogAux","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdogAux\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">initAndRunWatchdogAux</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L1059-L1097","name":"Lean.Server.Watchdog.mkLeanServerCapabilities","line":1059,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mkLeanServerCapabilities","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mkLeanServerCapabilities\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">mkLeanServerCapabilities</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/Capabilities.html#Lean.Lsp.ServerCapabilities\">Lean.Lsp.ServerCapabilities</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L1003-L1056","name":"Lean.Server.Watchdog.mainLoop","line":1003,"kind":"opaque","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mainLoop","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mainLoop\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">mainLoop</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(clientTask : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L992-L1001","name":"Lean.Server.Watchdog.runClientTask","line":992,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.runClientTask","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.runClientTask\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">runClientTask</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L990-L990","name":"Lean.Server.Watchdog.ServerEvent.clientError","line":990,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientError","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientError\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerEvent</span>.<span class=\"name\">clientError</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L989-L989","name":"Lean.Server.Watchdog.ServerEvent.clientMsg","line":989,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientMsg","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientMsg\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerEvent</span>.<span class=\"name\">clientMsg</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(msg : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L988-L988","name":"Lean.Server.Watchdog.ServerEvent.workerEvent","line":988,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.workerEvent","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.workerEvent\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerEvent</span>.<span class=\"name\">workerEvent</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ev : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\">Lean.Server.Watchdog.ServerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L987-L990","name":"Lean.Server.Watchdog.ServerEvent","line":987,"kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerEvent</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L979-L985","name":"Lean.Server.Watchdog.shutdown","line":979,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.shutdown","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.shutdown\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">shutdown</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L967-L975","name":"Lean.Server.Watchdog.handleResponseError","line":967,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleResponseError","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleResponseError\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleResponseError</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(code : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.ErrorCode\">Lean.JsonRpc.ErrorCode</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(message : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(data? : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L962-L965","name":"Lean.Server.Watchdog.handleResponse","line":962,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleResponse","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleResponse\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleResponse</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(result : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L935-L960","name":"Lean.Server.Watchdog.handleNotification","line":935,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleNotification","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L890-L933","name":"Lean.Server.Watchdog.handleRequest","line":890,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L863-L888","name":"Lean.Server.Watchdog.forwardRequestToWorker","line":863,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardRequestToWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardRequestToWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">forwardRequestToWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L856-L861","name":"Lean.Server.Watchdog.parseParams","line":856,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.parseParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.parseParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">parseParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(paramType : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <span class=\"fn\">paramType</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">paramType</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L850-L852","name":"Lean.Server.Watchdog.forwardNotification","line":850,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardNotification","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">forwardNotification</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.ToJson\">Lean.ToJson</a> <span class=\"fn\">α</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Server/FileSource.html#Lean.Lsp.FileSource\">Lean.Lsp.FileSource</a> <span class=\"fn\">α</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <span class=\"fn\">α</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L842-L848","name":"Lean.Server.Watchdog.handleCancelRequest","line":842,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCancelRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCancelRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCancelRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.CancelParams\">Lean.Lsp.CancelParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L813-L840","name":"Lean.Server.Watchdog.handleDidChangeWatchedFiles","line":813,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChangeWatchedFiles","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChangeWatchedFiles\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidChangeWatchedFiles</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Workspace.html#Lean.Lsp.DidChangeWatchedFilesParams\">Lean.Lsp.DidChangeWatchedFilesParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L810-L811","name":"Lean.Server.Watchdog.handleDidClose","line":810,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidClose","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidClose\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidClose</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.DidCloseTextDocumentParams\">Lean.Lsp.DidCloseTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L794-L808","name":"Lean.Server.Watchdog.handleDidSave","line":794,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidSave","doc":"When a file is saved, notifies all file workers for files that depend on this file that this\nspecific import is now stale so that the file worker can issue a diagnostic asking users to\nrestart the file.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidSave\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidSave</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.DidSaveTextDocumentParams\">Lean.Lsp.DidSaveTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L776-L792","name":"Lean.Server.Watchdog.handleDidChange","line":776,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChange","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.DidChangeTextDocumentParams\">Lean.Lsp.DidChangeTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L770-L774","name":"Lean.Server.Watchdog.handleDidOpen","line":770,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidOpen","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidOpen\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleDidOpen</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanDidOpenTextDocumentParams\">Lean.Lsp.LeanDidOpenTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L749-L765","name":"Lean.Server.Watchdog.handleRename","line":749,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRename","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRename\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleRename</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.RenameParams\">Lean.Lsp.RenameParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.WorkspaceEdit\">Lean.Lsp.WorkspaceEdit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L741-L747","name":"Lean.Server.Watchdog.handlePrepareRename","line":741,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handlePrepareRename","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handlePrepareRename\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handlePrepareRename</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.PrepareRenameParams\">Lean.Lsp.PrepareRenameParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.Range\">Lean.Lsp.Range</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L723-L739","name":"Lean.Server.Watchdog.handleWorkspaceSymbol","line":723,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleWorkspaceSymbol","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleWorkspaceSymbol\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleWorkspaceSymbol</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.WorkspaceSymbolParams\">Lean.Lsp.WorkspaceSymbolParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.SymbolInformation\">Lean.Lsp.SymbolInformation</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L714-L721","name":"Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls.collapseSameOutgoingCalls","line":714,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls.collapseSameOutgoingCalls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls.collapseSameOutgoingCalls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCallHierarchyOutgoingCalls</span>.<span class=\"name\">collapseSameOutgoingCalls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(outgoingCalls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyOutgoingCall\">Lean.Lsp.CallHierarchyOutgoingCall</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyOutgoingCall\">Lean.Lsp.CallHierarchyOutgoingCall</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L676-L721","name":"Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls","line":676,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyOutgoingCalls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCallHierarchyOutgoingCalls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyOutgoingCallsParams\">Lean.Lsp.CallHierarchyOutgoingCallsParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyOutgoingCall\">Lean.Lsp.CallHierarchyOutgoingCall</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L667-L674","name":"Lean.Server.Watchdog.handleCallHierarchyIncomingCalls.collapseSameIncomingCalls","line":667,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyIncomingCalls.collapseSameIncomingCalls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyIncomingCalls.collapseSameIncomingCalls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCallHierarchyIncomingCalls</span>.<span class=\"name\">collapseSameIncomingCalls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(incomingCalls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyIncomingCall\">Lean.Lsp.CallHierarchyIncomingCall</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyIncomingCall\">Lean.Lsp.CallHierarchyIncomingCall</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L624-L674","name":"Lean.Server.Watchdog.handleCallHierarchyIncomingCalls","line":624,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyIncomingCalls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCallHierarchyIncomingCalls\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCallHierarchyIncomingCalls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyIncomingCallsParams\">Lean.Lsp.CallHierarchyIncomingCallsParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyIncomingCall\">Lean.Lsp.CallHierarchyIncomingCall</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L611-L622","name":"Lean.Server.Watchdog.handlePrepareCallHierarchy","line":611,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handlePrepareCallHierarchy","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handlePrepareCallHierarchy\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handlePrepareCallHierarchy</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyPrepareParams\">Lean.Lsp.CallHierarchyPrepareParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyItem\">Lean.Lsp.CallHierarchyItem</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L549-L553","name":"Lean.Server.Watchdog.CallHierarchyItemData.fromItem?","line":549,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.fromItem?","doc":"Extracts the CallHierarchyItemData from `item.data?` and returns `none` if this is not possible.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.fromItem?\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span>.<span class=\"name\">fromItem?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(item : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.CallHierarchyItem\">Lean.Lsp.CallHierarchyItem</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L547-L547","name":"Lean.Server.Watchdog.instToJsonCallHierarchyItemData","line":547,"kind":"instance","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.instToJsonCallHierarchyItemData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.instToJsonCallHierarchyItemData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">instToJsonCallHierarchyItemData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.ToJson\">Lean.ToJson</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L547-L547","name":"Lean.Server.Watchdog.instFromJsonCallHierarchyItemData","line":547,"kind":"instance","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.instFromJsonCallHierarchyItemData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.instFromJsonCallHierarchyItemData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">instFromJsonCallHierarchyItemData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L546-L546","name":"Lean.Server.Watchdog.CallHierarchyItemData.name","line":546,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.name","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.name\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span>.<span class=\"name\">name</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Lean.Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L545-L545","name":"Lean.Server.Watchdog.CallHierarchyItemData.module","line":545,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.module","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.module\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span>.<span class=\"name\">module</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Lean.Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L544-L544","name":"Lean.Server.Watchdog.CallHierarchyItemData.mk","line":544,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(module name : <a href=\"./Init/Prelude.html#Lean.Name\">Lean.Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\">Lean.Server.Watchdog.CallHierarchyItemData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L540-L547","name":"Lean.Server.Watchdog.CallHierarchyItemData","line":540,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData","doc":"Used in `CallHierarchyItem.data?` to retain all the data needed to quickly re-identify the\ncall hierarchy item.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CallHierarchyItemData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CallHierarchyItemData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L528-L538","name":"Lean.Server.Watchdog.handleReference","line":528,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleReference","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleReference\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleReference</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/LanguageFeatures.html#Lean.Lsp.ReferenceParams\">Lean.Lsp.ReferenceParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.Location\">Lean.Lsp.Location</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L517-L526","name":"Lean.Server.Watchdog.findDefinitions","line":517,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findDefinitions","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findDefinitions\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">findDefinitions</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.TextDocumentPositionParams\">Lean.Lsp.TextDocumentPositionParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.Location\">Lean.Lsp.Location</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L500-L510","name":"Lean.Server.Watchdog.notifyAboutStaleDependency","line":500,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.notifyAboutStaleDependency","doc":"Sends a notification to the file worker identified by `uri` that its dependency `staleDependency`\nis out-of-date.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.notifyAboutStaleDependency\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">notifyAboutStaleDependency</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri staleDependency : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L465-L498","name":"Lean.Server.Watchdog.tryWriteMessage","line":465,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.tryWriteMessage","doc":"Tries to write a message, sets the state of the FileWorker to `crashed` if it does not succeed\nand restarts the file worker if the `crashed` flag was already set. Just logs an error if\nthere is no FileWorker at this `uri`.\nMessages that couldn't be sent can be queued up via the queueFailedMessage flag and\nwill be discharged after the FileWorker is restarted. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.tryWriteMessage\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">tryWriteMessage</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(msg : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(queueFailedMessage : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(restartCrashedWorker : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L452-L463","name":"Lean.Server.Watchdog.tryDischargeQueuedMessages","line":452,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.tryDischargeQueuedMessages","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.tryDischargeQueuedMessages\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">tryDischargeQueuedMessages</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(queuedMsgs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L447-L450","name":"Lean.Server.Watchdog.handleCrash","line":447,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCrash","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCrash\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleCrash</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(queuedMsgs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(origin : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin\">Lean.Server.Watchdog.CrashOrigin</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L432-L445","name":"Lean.Server.Watchdog.terminateFileWorker","line":432,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.terminateFileWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.terminateFileWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">terminateFileWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L385-L430","name":"Lean.Server.Watchdog.startFileWorker","line":385,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startFileWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startFileWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">startFileWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L302-L309","name":"Lean.Server.Watchdog.handleImportClosure","line":302,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleImportClosure","doc":"Updates the global import data with the import closure provided by the file worker after it\nsuccessfully processed its header.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleImportClosure\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleImportClosure</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Lsp/Internal.html#Lean.Lsp.LeanImportClosureParams\">Lean.Lsp.LeanImportClosureParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L295-L300","name":"Lean.Server.Watchdog.handleIleanInfoFinal","line":295,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoFinal","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoFinal\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleIleanInfoFinal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Lsp/Internal.html#Lean.Lsp.LeanIleanInfoParams\">Lean.Lsp.LeanIleanInfoParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L288-L293","name":"Lean.Server.Watchdog.handleIleanInfoUpdate","line":288,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoUpdate","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoUpdate\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">handleIleanInfoUpdate</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Lsp/Internal.html#Lean.Lsp.LeanIleanInfoParams\">Lean.Lsp.LeanIleanInfoParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L283-L286","name":"Lean.Server.Watchdog.log","line":283,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.log","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.log\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">log</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(msg : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L275-L281","name":"Lean.Server.Watchdog.eraseFileWorker","line":275,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.eraseFileWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.eraseFileWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">eraseFileWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L272-L273","name":"Lean.Server.Watchdog.findFileWorker?","line":272,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findFileWorker?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findFileWorker?\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">findFileWorker?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L269-L270","name":"Lean.Server.Watchdog.updateFileWorkers","line":269,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.updateFileWorkers","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.updateFileWorkers\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">updateFileWorkers</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(val : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\">Lean.Server.Watchdog.ServerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L267-L267","name":"Lean.Server.Watchdog.ServerM","line":267,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L265-L265","name":"Lean.Server.Watchdog.ServerContext.importData","line":265,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.importData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.importData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">importData</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L264-L264","name":"Lean.Server.Watchdog.ServerContext.serverRequestData","line":264,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.serverRequestData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.serverRequestData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">serverRequestData</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L263-L263","name":"Lean.Server.Watchdog.ServerContext.references","line":263,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.references","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.references\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">references</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/References.html#Lean.Server.References\">Lean.Server.References</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L262-L262","name":"Lean.Server.Watchdog.ServerContext.srcSearchPath","line":262,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.srcSearchPath","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.srcSearchPath\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">srcSearchPath</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/FilePath.html#System.SearchPath\">System.SearchPath</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L261-L261","name":"Lean.Server.Watchdog.ServerContext.workerPath","line":261,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.workerPath","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.workerPath\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">workerPath</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L260-L260","name":"Lean.Server.Watchdog.ServerContext.initParams","line":260,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.initParams","doc":"We store these to pass them to workers. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.initParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">initParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L258-L258","name":"Lean.Server.Watchdog.ServerContext.fileWorkersRef","line":258,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.fileWorkersRef","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.fileWorkersRef\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">fileWorkersRef</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap\">Lean.Server.Watchdog.FileWorkerMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L257-L257","name":"Lean.Server.Watchdog.ServerContext.args","line":257,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.args","doc":"Command line arguments. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.args\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">args</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#String\">String</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L255-L255","name":"Lean.Server.Watchdog.ServerContext.hLog","line":255,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hLog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">hLog</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L254-L254","name":"Lean.Server.Watchdog.ServerContext.hOut","line":254,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hOut","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hOut\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">hOut</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L253-L253","name":"Lean.Server.Watchdog.ServerContext.hIn","line":253,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hIn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hIn\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">hIn</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L252-L252","name":"Lean.Server.Watchdog.ServerContext.mk","line":252,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(hIn hOut hLog : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(args : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#String\">String</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(fileWorkersRef : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap\">Lean.Server.Watchdog.FileWorkerMap</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(initParams : <a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(workerPath : <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(srcSearchPath : <a href=\"./Init/System/FilePath.html#System.SearchPath\">System.SearchPath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(references : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/References.html#Lean.Server.References\">Lean.Server.References</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(serverRequestData : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(importData : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\">Lean.Server.Watchdog.ServerContext</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L252-L265","name":"Lean.Server.Watchdog.ServerContext","line":252,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerContext</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L244-L250","name":"Lean.Server.Watchdog.ServerRequestData.translateInboundResponse","line":244,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.translateInboundResponse","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.translateInboundResponse\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerRequestData</span>.<span class=\"name\">translateInboundResponse</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(data : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(globalID : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation\">Lean.Server.Watchdog.RequestIDTranslation</a></span> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L232-L242","name":"Lean.Server.Watchdog.ServerRequestData.trackOutboundRequest","line":232,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.trackOutboundRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.trackOutboundRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerRequestData</span>.<span class=\"name\">trackOutboundRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(data : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(sourceUri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(localID : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L230-L230","name":"Lean.Server.Watchdog.ServerRequestData.freshServerRequestID","line":230,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.freshServerRequestID","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.freshServerRequestID\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerRequestData</span>.<span class=\"name\">freshServerRequestID</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L229-L229","name":"Lean.Server.Watchdog.ServerRequestData.pendingServerRequests","line":229,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.pendingServerRequests","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.pendingServerRequests\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerRequestData</span>.<span class=\"name\">pendingServerRequests</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingServerRequestMap\">Lean.Server.Watchdog.PendingServerRequestMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L228-L228","name":"Lean.Server.Watchdog.ServerRequestData.mk","line":228,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerRequestData</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(pendingServerRequests : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingServerRequestMap\">Lean.Server.Watchdog.PendingServerRequestMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(freshServerRequestID : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\">Lean.Server.Watchdog.ServerRequestData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L228-L230","name":"Lean.Server.Watchdog.ServerRequestData","line":228,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerRequestData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ServerRequestData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L226-L226","name":"Lean.Server.Watchdog.PendingServerRequestMap","line":226,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingServerRequestMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingServerRequestMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">PendingServerRequestMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L224-L224","name":"Lean.Server.Watchdog.RequestIDTranslation.localID","line":224,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation.localID","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation.localID\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">RequestIDTranslation</span>.<span class=\"name\">localID</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation\">Lean.Server.Watchdog.RequestIDTranslation</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L223-L223","name":"Lean.Server.Watchdog.RequestIDTranslation.sourceUri","line":223,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation.sourceUri","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation.sourceUri\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">RequestIDTranslation</span>.<span class=\"name\">sourceUri</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation\">Lean.Server.Watchdog.RequestIDTranslation</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L222-L222","name":"Lean.Server.Watchdog.RequestIDTranslation.mk","line":222,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">RequestIDTranslation</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(sourceUri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(localID : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation\">Lean.Server.Watchdog.RequestIDTranslation</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L222-L224","name":"Lean.Server.Watchdog.RequestIDTranslation","line":222,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.RequestIDTranslation\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">RequestIDTranslation</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L216-L220","name":"Lean.Server.Watchdog.ImportData.eraseImportsOf","line":216,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.eraseImportsOf","doc":"Sets the imports of `uri` in `d` to the empty set.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.eraseImportsOf\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ImportData</span>.<span class=\"name\">eraseImportsOf</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(d : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L187-L214","name":"Lean.Server.Watchdog.ImportData.update","line":187,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.update","doc":"Updates `d` with the new set of `imports` for the file `uri`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.update\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ImportData</span>.<span class=\"name\">update</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(d : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(imports : <span class=\"fn\"><a href=\"./Lean/Data/RBTree.html#Lean.RBTree\">Lean.RBTree</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a> <span class=\"fn\">compare</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L185-L185","name":"Lean.Server.Watchdog.ImportData.importedBy","line":185,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.importedBy","doc":"For every open file, the files that it is imported by. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.importedBy\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ImportData</span>.<span class=\"name\">importedBy</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportMap\">Lean.Server.Watchdog.ImportMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L183-L183","name":"Lean.Server.Watchdog.ImportData.imports","line":183,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.imports","doc":"For every open file, the files that it imports. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.imports\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ImportData</span>.<span class=\"name\">imports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportMap\">Lean.Server.Watchdog.ImportMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L181-L181","name":"Lean.Server.Watchdog.ImportData.mk","line":181,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ImportData</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(imports importedBy : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportMap\">Lean.Server.Watchdog.ImportMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\">Lean.Server.Watchdog.ImportData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L180-L185","name":"Lean.Server.Watchdog.ImportData","line":180,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData","doc":"Global import data for all open files managed by this watchdog. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportData\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ImportData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L178-L178","name":"Lean.Server.Watchdog.ImportMap","line":178,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ImportMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">ImportMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L177-L177","name":"Lean.Server.Watchdog.FileWorkerMap","line":177,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorkerMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L160-L170","name":"Lean.Server.Watchdog.FileWorker.killProcAndWait","line":160,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.killProcAndWait","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.killProcAndWait\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">killProcAndWait</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L150-L158","name":"Lean.Server.Watchdog.FileWorker.waitForProc","line":150,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.waitForProc","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.waitForProc\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">waitForProc</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L145-L148","name":"Lean.Server.Watchdog.FileWorker.queuedMsgs","line":145,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.queuedMsgs","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.queuedMsgs\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">queuedMsgs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L138-L143","name":"Lean.Server.Watchdog.FileWorker.errorPendingRequests","line":138,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.errorPendingRequests","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.errorPendingRequests\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">errorPendingRequests</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hError : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(code : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.ErrorCode\">Lean.JsonRpc.ErrorCode</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(msg : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L135-L136","name":"Lean.Server.Watchdog.FileWorker.erasePendingRequest","line":135,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.erasePendingRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.erasePendingRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">erasePendingRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L132-L133","name":"Lean.Server.Watchdog.FileWorker.stdout","line":132,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdout","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdout\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">stdout</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L129-L130","name":"Lean.Server.Watchdog.FileWorker.stdin","line":129,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdin","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdin\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">stdin</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fw : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L125-L125","name":"Lean.Server.Watchdog.FileWorker.pendingRequestsRef","line":125,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.pendingRequestsRef","doc":"The pending requests map contains all requests that have been received from the LSP client,\nbut were not answered yet.\nWe need them for forwarding cancellation requests to the correct worker as well as cleanly\naborting requests on worker crashes. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.pendingRequestsRef\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">pendingRequestsRef</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap\">Lean.Server.Watchdog.PendingRequestMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L118-L118","name":"Lean.Server.Watchdog.FileWorker.state","line":118,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.state","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.state\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">state</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\">Lean.Server.Watchdog.WorkerState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L117-L117","name":"Lean.Server.Watchdog.FileWorker.commTask","line":117,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.commTask","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.commTask\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">commTask</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L116-L116","name":"Lean.Server.Watchdog.FileWorker.exitCode","line":116,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.exitCode","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.exitCode\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">exitCode</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/Mutex.html#IO.Mutex\">IO.Mutex</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L115-L115","name":"Lean.Server.Watchdog.FileWorker.proc","line":115,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.proc","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.proc\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">proc</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Process.Child\">IO.Process.Child</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg\">Lean.Server.Watchdog.workerCfg</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L114-L114","name":"Lean.Server.Watchdog.FileWorker.doc","line":114,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.doc","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.doc\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">doc</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L113-L113","name":"Lean.Server.Watchdog.FileWorker.mk","line":113,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(doc : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(proc : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Process.Child\">IO.Process.Child</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg\">Lean.Server.Watchdog.workerCfg</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(exitCode : <span class=\"fn\"><a href=\"./Init/System/Mutex.html#IO.Mutex\">IO.Mutex</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(commTask : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(state : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\">Lean.Server.Watchdog.WorkerState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pendingRequestsRef : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap\">Lean.Server.Watchdog.PendingRequestMap</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\">Lean.Server.Watchdog.FileWorker</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L113-L125","name":"Lean.Server.Watchdog.FileWorker","line":113,"kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">FileWorker</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L109-L109","name":"Lean.Server.Watchdog.PendingRequestMap","line":109,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">PendingRequestMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L107-L107","name":"Lean.Server.Watchdog.WorkerState.running","line":107,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.running","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.running\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">running</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\">Lean.Server.Watchdog.WorkerState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L99-L106","name":"Lean.Server.Watchdog.WorkerState.crashed","line":99,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.crashed","doc":"The watchdog can detect a crashed file worker in two places: When trying to send a message\nto the file worker and when reading a request reply.\nIn the latter case, the forwarding task terminates and delegates a `crashed` event to the\nmain task. Then, in both cases, the file worker has its state set to `crashed` and requests\nthat are in-flight are errored. Upon receiving the next packet for that file worker, the file\nworker is restarted and the packet is forwarded to it. If the crash was detected while writing\na packet, we queue that packet until the next packet for the file worker arrives. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.crashed\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">crashed</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(queuedMsgs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(origin : <a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin\">Lean.Server.Watchdog.CrashOrigin</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\">Lean.Server.Watchdog.WorkerState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L98-L107","name":"Lean.Server.Watchdog.WorkerState","line":98,"kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L96-L96","name":"Lean.Server.Watchdog.CrashOrigin.clientToFileWorkerForwarding","line":96,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin.clientToFileWorkerForwarding","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin.clientToFileWorkerForwarding\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CrashOrigin</span>.<span class=\"name\">clientToFileWorkerForwarding</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin\">Lean.Server.Watchdog.CrashOrigin</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L95-L95","name":"Lean.Server.Watchdog.CrashOrigin.fileWorkerToClientForwarding","line":95,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin.fileWorkerToClientForwarding","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin.fileWorkerToClientForwarding\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CrashOrigin</span>.<span class=\"name\">fileWorkerToClientForwarding</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin\">Lean.Server.Watchdog.CrashOrigin</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L94-L96","name":"Lean.Server.Watchdog.CrashOrigin","line":94,"kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.CrashOrigin\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">CrashOrigin</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L92-L92","name":"Lean.Server.Watchdog.WorkerEvent.ioError","line":92,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.ioError","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.ioError\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span>.<span class=\"name\">ioError</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L91-L91","name":"Lean.Server.Watchdog.WorkerEvent.crashed","line":91,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.crashed","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.crashed\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span>.<span class=\"name\">crashed</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L90-L90","name":"Lean.Server.Watchdog.WorkerEvent.importsChanged","line":90,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.importsChanged","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.importsChanged\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span>.<span class=\"name\">importsChanged</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L89-L89","name":"Lean.Server.Watchdog.WorkerEvent.terminated","line":89,"kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.terminated","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.terminated\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span>.<span class=\"name\">terminated</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\">Lean.Server.Watchdog.WorkerEvent</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L87-L92","name":"Lean.Server.Watchdog.WorkerEvent","line":87,"kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent","doc":"Events that worker-specific tasks signal to the main thread. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">WorkerEvent</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Watchdog.lean#L80-L85","name":"Lean.Server.Watchdog.workerCfg","line":80,"kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Watchdog</span>.<span class=\"name\">workerCfg</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.Process.StdioConfig\">IO.Process.StdioConfig</a></div></div>"}]}