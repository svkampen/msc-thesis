{"name":"Lake.Build.Library","instances":[],"imports":["Init","Lake.Build.Common","Lake.Build.Targets"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L106-L117","name":"Lake.initLibraryFacetConfigs","line":106,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.initLibraryFacetConfigs","doc":"A library facet name to build function map that contains builders for\nthe initial set of Lake library facets (e.g., `lean`, `static`, and `shared`).\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.initLibraryFacetConfigs\"><span class=\"name\">Lake</span>.<span class=\"name\">initLibraryFacetConfigs</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Util/Name.html#Lake.DNameMap\">Lake.DNameMap</a> <a href=\"./Lake/Config/FacetConfig.html#Lake.LibraryFacetConfig\">Lake.LibraryFacetConfig</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L101-L103","name":"Lake.LeanLib.extraDepFacetConfig","line":101,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.extraDepFacetConfig","doc":"The `LibraryFacetConfig` for the builtin `extraDepFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.extraDepFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">extraDepFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.LibraryFacetConfig\">Lake.LibraryFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.LeanLib.extraDepFacet\">Lake.LeanLib.extraDepFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L96-L99","name":"Lake.LeanLib.recBuildExtraDepTargets","line":96,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.recBuildExtraDepTargets","doc":"Build the `extraDepTargets` for the library and its package. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.recBuildExtraDepTargets\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">recBuildExtraDepTargets</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/LeanLib.html#Lake.LeanLib\">Lake.LeanLib</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">Lake.FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job.html#Lake.BuildJob\">Lake.BuildJob</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L90-L92","name":"Lake.LeanLib.sharedFacetConfig","line":90,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.sharedFacetConfig","doc":"The `LibraryFacetConfig` for the builtin `sharedFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.sharedFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">sharedFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.LibraryFacetConfig\">Lake.LibraryFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.LeanLib.sharedFacet\">Lake.LeanLib.sharedFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L80-L88","name":"Lake.LeanLib.recBuildShared","line":80,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.recBuildShared","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.recBuildShared\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">recBuildShared</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/LeanLib.html#Lake.LeanLib\">Lake.LeanLib</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">Lake.FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job.html#Lake.BuildJob\">Lake.BuildJob</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L73-L75","name":"Lake.LeanLib.staticExportFacetConfig","line":73,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.staticExportFacetConfig","doc":"The `LibraryFacetConfig` for the builtin `staticExportFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.staticExportFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">staticExportFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.LibraryFacetConfig\">Lake.LibraryFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.LeanLib.staticExportFacet\">Lake.LeanLib.staticExportFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L69-L71","name":"Lake.LeanLib.staticFacetConfig","line":69,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.staticFacetConfig","doc":"The `LibraryFacetConfig` for the builtin `staticFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.staticFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">staticFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.LibraryFacetConfig\">Lake.LibraryFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.LeanLib.staticFacet\">Lake.LeanLib.staticFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L55-L67","name":"Lake.LeanLib.recBuildStatic","line":55,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.recBuildStatic","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.recBuildStatic\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">recBuildStatic</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/LeanLib.html#Lake.LeanLib\">Lake.LeanLib</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(shouldExport : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">Lake.FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job.html#Lake.BuildJob\">Lake.BuildJob</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L51-L53","name":"Lake.LeanLib.leanArtsFacetConfig","line":51,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.leanArtsFacetConfig","doc":"The `LibraryFacetConfig` for the builtin `leanArtsFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.leanArtsFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">leanArtsFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.LibraryFacetConfig\">Lake.LibraryFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.LeanLib.leanArtsFacet\">Lake.LeanLib.leanArtsFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L45-L49","name":"Lake.LeanLib.recBuildLean","line":45,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.recBuildLean","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.recBuildLean\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">recBuildLean</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/LeanLib.html#Lake.LeanLib\">Lake.LeanLib</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">Lake.FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job.html#Lake.BuildJob\">Lake.BuildJob</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L41-L43","name":"Lake.LeanLib.modulesFacetConfig","line":41,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.modulesFacetConfig","doc":"The `LibraryFacetConfig` for the builtin `modulesFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.modulesFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">modulesFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.LibraryFacetConfig\">Lake.LibraryFacetConfig</a> <a href=\"./Lake/Build/Info.html#Lake.LeanLib.modulesFacet\">Lake.LeanLib.modulesFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L29-L39","name":"Lake.LeanLib.recCollectLocalModules.go","line":29,"kind":"opaque","docLink":"./Lake/Build/Library.html#Lake.LeanLib.recCollectLocalModules.go","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.recCollectLocalModules.go\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">recCollectLocalModules</span>.<span class=\"name\">go</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/LeanLib.html#Lake.LeanLib\">Lake.LeanLib</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(root : <a href=\"./Lake/Config/Module.html#Lake.Module\">Lake.Module</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(mods : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Lake.Module</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(modSet : <a href=\"./Lake/Config/Module.html#Lake.ModuleSet\">Lake.ModuleSet</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">Lake.FetchM</a> <span class=\"fn\">(<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Lake.Module</a></span> <a href=\"./Init/Prelude.html#Prod\">Ã—</a> <a href=\"./Lake/Config/Module.html#Lake.ModuleSet\">Lake.ModuleSet</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/lake/Lake/Build/Library.lean#L18-L39","name":"Lake.LeanLib.recCollectLocalModules","line":18,"kind":"def","docLink":"./Lake/Build/Library.html#Lake.LeanLib.recCollectLocalModules","doc":"Collect the local modules of a library.\nThat is, the modules from `getModuleArray` plus their local transitive imports.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Library.html#Lake.LeanLib.recCollectLocalModules\"><span class=\"name\">Lake</span>.<span class=\"name\">LeanLib</span>.<span class=\"name\">recCollectLocalModules</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/LeanLib.html#Lake.LeanLib\">Lake.LeanLib</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">Lake.FetchM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Lake.Module</a>)</span></span></div></div>"}]}