{"name":"Lean.Server.Utils","instances":[{"typeNames":["Lean.Server.DocumentMeta"],"name":"Lean.Server.instInhabitedDocumentMeta","className":"Inhabited"}],"imports":["Init.System.Uri","Lean.Data.Lsp.Communication","Lean.Data.Lsp.Diagnostics","Lean.Data.Lsp.Extra","Lean.Data.Lsp.TextSync","Lean.Server.InfoUtils"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L185-L195","name":"System.SearchPath.searchModuleNameOfUri","line":185,"kind":"def","docLink":"./Lean/Server/Utils.html#System.SearchPath.searchModuleNameOfUri","doc":"Attempts to find a module name in the roots denoted by `srcSearchPath` for `uri`.\nFails if `uri` is not a `file://` uri or if the given `uri` cannot be found in `srcSearchPath`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#System.SearchPath.searchModuleNameOfUri\"><span class=\"name\">System</span>.<span class=\"name\">SearchPath</span>.<span class=\"name\">searchModuleNameOfUri</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(srcSearchPath : <a href=\"./Init/System/FilePath.html#System.SearchPath\">System.SearchPath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/Prelude.html#Lean.Name\">Lean.Name</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L177-L182","name":"String.Range.toLspRange","line":177,"kind":"def","docLink":"./Lean/Server/Utils.html#String.Range.toLspRange","doc":"Converts an UTF-8-based `String.range` in `text` to an equivalent LSP UTF-16-based `Lsp.Range`\nin `text`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#String.Range.toLspRange\"><span class=\"name\">String</span>.<span class=\"name\">Range</span>.<span class=\"name\">toLspRange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(text : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(r : <a href=\"./Lean/Syntax.html#String.Range\">String.Range</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.Range\">Lean.Lsp.Range</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L171-L173","name":"Lean.Server.mkApplyWorkspaceEditRequest","line":171,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.mkApplyWorkspaceEditRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkApplyWorkspaceEditRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkApplyWorkspaceEditRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.ApplyWorkspaceEditParams\">Lean.Lsp.ApplyWorkspaceEditParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Request\">Lean.JsonRpc.Request</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.ApplyWorkspaceEditParams\">Lean.Lsp.ApplyWorkspaceEditParams</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L166-L168","name":"Lean.Server.mkFileProgressDoneNotification","line":166,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.mkFileProgressDoneNotification","doc":"Constructs a `$/lean/fileProgress` notification marking processing as done. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkFileProgressDoneNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkFileProgressDoneNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">Lean.JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressParams\">Lean.Lsp.LeanFileProgressParams</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L160-L164","name":"Lean.Server.mkFileProgressAtPosNotification","line":160,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.mkFileProgressAtPosNotification","doc":"Constructs a `$/lean/fileProgress` notification from the given position onwards. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkFileProgressAtPosNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkFileProgressAtPosNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pos : <a href=\"./Init/Prelude.html#String.Pos\">String.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(kind : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressKind\">Lean.Lsp.LeanFileProgressKind</a> := <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressKind.processing\">Lean.Lsp.LeanFileProgressKind.processing</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">Lean.JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressParams\">Lean.Lsp.LeanFileProgressParams</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L151-L158","name":"Lean.Server.mkFileProgressNotification","line":151,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.mkFileProgressNotification","doc":"Constructs a `$/lean/fileProgress` notification. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkFileProgressNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkFileProgressNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(processing : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressProcessingInfo\">Lean.Lsp.LeanFileProgressProcessingInfo</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">Lean.JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressParams\">Lean.Lsp.LeanFileProgressParams</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L141-L149","name":"Lean.Server.mkPublishDiagnosticsNotification","line":141,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.mkPublishDiagnosticsNotification","doc":"Constructs a `textDocument/publishDiagnostics` notification. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkPublishDiagnosticsNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkPublishDiagnosticsNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(diagnostics : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/Diagnostics.html#Lean.Lsp.Diagnostic\">Lean.Lsp.Diagnostic</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">Lean.JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Diagnostics.html#Lean.Lsp.PublishDiagnosticsParams\">Lean.Lsp.PublishDiagnosticsParams</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L137-L139","name":"Lean.Server.foldDocumentChanges","line":137,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.foldDocumentChanges","doc":"Returns the document contents with all changes applied. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.foldDocumentChanges\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">foldDocumentChanges</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(changes : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.TextDocumentContentChangeEvent\">Lean.Lsp.TextDocumentContentChangeEvent</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(oldText : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L130-L135","name":"Lean.Server.applyDocumentChange","line":130,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.applyDocumentChange","doc":"Returns the document contents with the change applied. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.applyDocumentChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">applyDocumentChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(oldText : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(change : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.TextDocumentContentChangeEvent\">Lean.Lsp.TextDocumentContentChangeEvent</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L112-L126","name":"Lean.Server.maybeTee","line":112,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.maybeTee","doc":"Duplicates an I/O stream to a log file `fName` in LEAN_SERVER_LOG_DIR\nif that envvar is set.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.maybeTee\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">maybeTee</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fName : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(isOut : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(h : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L95-L108","name":"Lean.Server.replaceLspRange","line":95,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.replaceLspRange","doc":"Replaces the range `r` (using LSP UTF-16 positions) in `text` (using UTF-8 positions)\nwith `newText`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.replaceLspRange\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">replaceLspRange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(text : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(r : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.Range\">Lean.Lsp.Range</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(newText : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L89-L93","name":"Lean.Server.DocumentMeta.mkInputContext","line":89,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mkInputContext","doc":"Extracts an `InputContext` from `doc`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mkInputContext\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">mkInputContext</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(doc : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Parser/Types.html#Lean.Parser.InputContext\">Lean.Parser.InputContext</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L87-L87","name":"Lean.Server.instInhabitedDocumentMeta","line":87,"kind":"instance","docLink":"./Lean/Server/Utils.html#Lean.Server.instInhabitedDocumentMeta","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.instInhabitedDocumentMeta\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">instInhabitedDocumentMeta</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L86-L86","name":"Lean.Server.DocumentMeta.dependencyBuildMode","line":86,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.dependencyBuildMode","doc":"Controls when dependencies of the document are built on `textDocument/didOpen` notifications.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.dependencyBuildMode\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">dependencyBuildMode</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.DependencyBuildMode\">Lean.Lsp.DependencyBuildMode</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L82-L82","name":"Lean.Server.DocumentMeta.text","line":82,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.text","doc":"Current text of the document.\nIt is maintained such that it is normalized using `String.crlfToLf`, which preserves logical line/column numbers.\n(Note: we assume that edit operations never split or merge `\\r\\n` line endings.) "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.text\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">text</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L77-L77","name":"Lean.Server.DocumentMeta.version","line":77,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.version","doc":"Version number of the document. Incremented whenever the document is edited. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.version\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">version</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L75-L75","name":"Lean.Server.DocumentMeta.uri","line":75,"kind":"def","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.uri","doc":"URI where the document is located. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.uri\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">uri</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L73-L73","name":"Lean.Server.DocumentMeta.mk","line":73,"kind":"ctor","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(uri : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(version : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(text : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(dependencyBuildMode : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.DependencyBuildMode\">Lean.Lsp.DependencyBuildMode</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L72-L87","name":"Lean.Server.DocumentMeta","line":72,"kind":"structure","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta","doc":"Meta-Data of a document. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L58-L65","name":"IO.FS.Stream.withPrefix","line":58,"kind":"def","docLink":"./Lean/Server/Utils.html#IO.FS.Stream.withPrefix","doc":"Prefixes all written outputs with `pre`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#IO.FS.Stream.withPrefix\"><span class=\"name\">IO</span>.<span class=\"name\">FS</span>.<span class=\"name\">Stream</span>.<span class=\"name\">withPrefix</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(a : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pre : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L45-L56","name":"IO.FS.Stream.chainLeft","line":45,"kind":"def","docLink":"./Lean/Server/Utils.html#IO.FS.Stream.chainLeft","doc":"Like `tee a | b` on Unix. See `chainOut`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#IO.FS.Stream.chainLeft\"><span class=\"name\">IO</span>.<span class=\"name\">FS</span>.<span class=\"name\">Stream</span>.<span class=\"name\">chainLeft</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(a b : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(flushEagerly : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L23-L43","name":"IO.FS.Stream.chainRight","line":23,"kind":"def","docLink":"./Lean/Server/Utils.html#IO.FS.Stream.chainRight","doc":"Chains two streams by creating a new stream s.t. writing to it\njust writes to `a` but reading from it also duplicates the read output\ninto `b`, c.f. `a | tee b` on Unix.\nNB: if `a` is written to but this stream is never read from,\nthe output will *not* be duplicated. Use this if you only care\nabout the data that was actually read.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#IO.FS.Stream.chainRight\"><span class=\"name\">IO</span>.<span class=\"name\">FS</span>.<span class=\"name\">Stream</span>.<span class=\"name\">chainRight</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(a b : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(flushEagerly : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Lean/Server/Utils.lean#L17-L19","name":"IO.throwServerError","line":17,"kind":"def","docLink":"./Lean/Server/Utils.html#IO.throwServerError","doc":"Throws an `IO.userError`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#IO.throwServerError\"><span class=\"name\">IO</span>.<span class=\"name\">throwServerError</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(err : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></div></div>"}]}