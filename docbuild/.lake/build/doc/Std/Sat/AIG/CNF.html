<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Std.Sat.AIG.CNF</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Std.Sat.AIG.CNF";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">CNF</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Std/Sat/CNF.html">Std.Sat.CNF</a></li><li><a href="../../.././Std/Sat/AIG/Basic.html">Std.Sat.AIG.Basic</a></li><li><a href="../../.././Std/Sat/AIG/Lemmas.html">Std.Sat.AIG.Lemmas</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Std.Sat.AIG.CNF" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.Decl.constToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">constToCNF</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.Decl.atomToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">atomToCNF</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.Decl.gateToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">gateToCNF</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.Decl.constToCNF_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">constToCNF_eval</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.Decl.atomToCNF_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">atomToCNF_eval</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.Decl.gateToCNF_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">gateToCNF_eval</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.CNFVar"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">CNFVar</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.mixAssigns"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">mixAssigns</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.projectLeftAssign"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">projectLeftAssign</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.projectRightAssign"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">projectRightAssign</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.projectLeftAssign_property"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">projectLeftAssign_property</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.projectRightAssign_property"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">projectRightAssign_property</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.cnfSatAssignment"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">cnfSatAssignment</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.satAssignment_inl"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">satAssignment_inl</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.satAssignment_inr"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">satAssignment_inr</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.Inv"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">Inv</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.Inv_init"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">Inv_init</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.IsExtensionBy"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.IsExtensionBy_trans_left"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy_trans_left</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.IsExtensionBy_trans_right"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy_trans_right</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.IsExtensionBy_rfl"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy_rfl</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.IsExtensionBy_set"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy_set</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.init"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">init</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.addConst"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">addConst</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.addAtom"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">addAtom</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.Cache.addGate"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">addGate</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.Inv"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.Inv_nil"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_nil</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.Inv_append"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_append</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.Inv_constToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_constToCNF</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.Inv_atomToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_atomToCNF</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.Inv_gateToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_gateToCNF</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.empty"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">empty</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.IsExtensionBy"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">IsExtensionBy</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.IsExtensionBy_trans_left"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">IsExtensionBy_trans_left</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.IsExtensionBy_trans_right"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">IsExtensionBy_trans_right</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.IsExtensionBy_rfl"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">IsExtensionBy_rfl</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.addConst"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">addConst</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.addAtom"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">addAtom</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.addGate"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">addGate</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">eval</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.Sat"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Sat</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.Unsat"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Unsat</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.sat_def"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">sat_def</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.unsat_def"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">unsat_def</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.eval_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">eval_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.sat_iff"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">sat_iff</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.State.unsat_iff"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">unsat_iff</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.inj"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">inj</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.go"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.inj_is_injection"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">inj_is_injection</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.go_marks"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go_marks</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.go_sat"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go_sat</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.go_as_denote'"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go_as_denote'</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.go_as_denote"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go_as_denote</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF.denote_as_go"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">denote_as_go</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.toCNF_equisat"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF_equisat</span></a></div></nav><main>
<div class="mod_doc"><p>This module contains an implementation of a verified Tseitin transformation on AIGs. The key results
are the <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF">toCNF</a></code> function and the <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF_equisat">toCNF_equisat</a></code> correctness statement. The implementation is
done in the style of section 3.4 of the AIGNET paper.</p></div><div class="decl" id="Std.Sat.AIG.Decl.constToCNF"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L25-L29">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.constToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">constToCNF</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(output : <span class="fn">α</span>)</span></span>
<span class="decl_args">
<span class="fn">(const : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn">α</span></span></div></div><p>Produce a Tseitin style CNF for a <code>Decl.const</code>, using <code>output</code> as the tree node variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.constToCNF">Std.Sat.AIG.Decl.constToCNF</a> <span class="fn">output</span> <span class="fn">const</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">[<span class="fn">[<span class="fn">(<span class="fn">output</span>, <span class="fn">const</span>)</span>]</span>]</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.Decl.constToCNF" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.Decl.atomToCNF"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L31-L35">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.atomToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">atomToCNF</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(output atom : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn">α</span></span></div></div><p>Produce a Tseitin style CNF for a <code>Decl.atom</code>, using <code>output</code> as the tree node variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.atomToCNF">Std.Sat.AIG.Decl.atomToCNF</a> <span class="fn">output</span> <span class="fn">atom</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">[<span class="fn">[<span class="fn">(<span class="fn">output</span>, <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>, <span class="fn">(<span class="fn">atom</span>, <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span>]</span>, <span class="fn">[<span class="fn">(<span class="fn">output</span>, <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span>, <span class="fn">(<span class="fn">atom</span>, <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>]</span>]</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.Decl.atomToCNF" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.Decl.gateToCNF"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L37-L49">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.gateToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">gateToCNF</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(output lhs rhs : <span class="fn">α</span>)</span></span>
<span class="decl_args">
<span class="fn">(linv rinv : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn">α</span></span></div></div><p>Produce a Tseitin style CNF for a <code>Decl.gate</code>, using <code>output</code> as the tree node variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.gateToCNF">Std.Sat.AIG.Decl.gateToCNF</a> <span class="fn">output</span> <span class="fn">lhs</span> <span class="fn">rhs</span> <span class="fn">linv</span> <span class="fn">rinv</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">[<span class="fn">[<span class="fn">(<span class="fn">output</span>, <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span>, <span class="fn">(<span class="fn">lhs</span>, <span class="fn"><a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">linv</span></span>)</span>]</span>, <span class="fn">[<span class="fn">(<span class="fn">output</span>, <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span>, <span class="fn">(<span class="fn">rhs</span>, <span class="fn"><a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">rinv</span></span>)</span>]</span>, <span class="fn">[<span class="fn">(<span class="fn">output</span>, <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>, <span class="fn">(<span class="fn">lhs</span>, <span class="fn">linv</span>)</span>, <span class="fn">(<span class="fn">rhs</span>, <span class="fn">rinv</span>)</span>]</span>]</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.Decl.gateToCNF" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.Decl.constToCNF_eval"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L51-L56">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.constToCNF_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">constToCNF_eval</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α✝ : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{output : <span class="fn">α✝</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{b : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α✝</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.eval">Std.Sat.CNF.eval</a> <span class="fn">assign</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.constToCNF">Std.Sat.AIG.Decl.constToCNF</a> <span class="fn">output</span> <span class="fn">b</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><span class="fn">assign</span> <span class="fn">output</span></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span>)</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.Decl.atomToCNF_eval"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L58-L65">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.atomToCNF_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">atomToCNF_eval</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α✝ : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{output a : <span class="fn">α✝</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α✝</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.eval">Std.Sat.CNF.eval</a> <span class="fn">assign</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.atomToCNF">Std.Sat.AIG.Decl.atomToCNF</a> <span class="fn">output</span> <span class="fn">a</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><span class="fn">assign</span> <span class="fn">output</span></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">assign</span> <span class="fn">a</span></span>)</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.Decl.gateToCNF_eval"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L67-L79">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.gateToCNF_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">Decl</span>.<span class="name">gateToCNF_eval</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α✝ : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{output lhs rhs : <span class="fn">α✝</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{linv rinv : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α✝</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.eval">Std.Sat.CNF.eval</a> <span class="fn">assign</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.gateToCNF">Std.Sat.AIG.Decl.gateToCNF</a> <span class="fn">output</span> <span class="fn">lhs</span> <span class="fn">rhs</span> <span class="fn">linv</span> <span class="fn">rinv</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">(<span class="fn"><span class="fn">assign</span> <span class="fn">output</span></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">(<span class="fn">(<span class="fn"><span class="fn">assign</span> <span class="fn">lhs</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn">linv</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">(<span class="fn"><span class="fn">assign</span> <span class="fn">rhs</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn">rinv</span>)</span>)</span>)</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.CNFVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L83-L83">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.CNFVar"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">CNFVar</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Nat">Nat</a> <a href="../../.././Init/Core.html#Sum">⊕</a> <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.CNFVar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.mixAssigns"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L87-L96">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.mixAssigns"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">mixAssigns</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(assign1 : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(assign2 : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Mix:</p><ol>
<li>An assignment for AIG atoms</li>
<li>An assignment for auxiliary Tseitin variables
into an assignment that can be used by a CNF produced by our Tseitin transformation.</li>
</ol><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.mixAssigns">Std.Sat.AIG.toCNF.mixAssigns</a> <span class="fn">assign1</span> <span class="fn">assign2</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inl">Sum.inl</a> <span class="fn">var</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">assign1</span> <span class="fn">var</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.mixAssigns">Std.Sat.AIG.toCNF.mixAssigns</a> <span class="fn">assign1</span> <span class="fn">assign2</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">var</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">assign2</span> <span class="fn">var</span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.mixAssigns" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.projectLeftAssign"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L98-L101">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectLeftAssign"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">projectLeftAssign</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(assign : <span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Project the atom assignment out of a CNF assignment</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectLeftAssign">Std.Sat.AIG.toCNF.projectLeftAssign</a> <span class="fn">assign</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">assign</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inl">Sum.inl</a> <span class="fn">x</span>)</span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.projectLeftAssign" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.projectRightAssign"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L103-L107">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectRightAssign"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">projectRightAssign</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(assign : <span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Project the auxiliary variable assignment out of a CNF assignment</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectRightAssign">Std.Sat.AIG.toCNF.projectRightAssign</a> <span class="fn">assign</span> <span class="fn">idx</span> <span class="fn">h</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">assign</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">idx</span>, <span class="fn">h</span>⟩</span>)</span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.projectRightAssign" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.projectLeftAssign_property"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L109-L111">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectLeftAssign_property"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">projectLeftAssign_property</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig✝ : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn"><span class="fn">aig✝</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{x : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectLeftAssign">Std.Sat.AIG.toCNF.projectLeftAssign</a> <span class="fn">assign</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">assign</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inl">Sum.inl</a> <span class="fn">x</span>)</span></span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.projectRightAssign_property"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L113-L116">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectRightAssign_property"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">projectRightAssign_property</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig✝ : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn"><span class="fn">aig✝</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{x : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hx : <span class="fn"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig✝</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectRightAssign">Std.Sat.AIG.toCNF.projectRightAssign</a> <span class="fn">assign</span> <span class="fn">x</span> <span class="fn">hx</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">assign</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">x</span>, <span class="fn">hx</span>⟩</span>)</span></span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.cnfSatAssignment"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L118-L124">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">cnfSatAssignment</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(assign1 : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Given an atom assignment, produce an assignment that will always satisfy the CNF generated by our
Tseitin transformation. This is done by combining the atom assignment with an assignment for the
auxiliary variables, that just evaluates the AIG at the corresponding node.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">Std.Sat.AIG.toCNF.cnfSatAssignment</a> <span class="fn">aig</span> <span class="fn">assign1</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.mixAssigns">Std.Sat.AIG.toCNF.mixAssigns</a> <span class="fn">assign1</span> <span class="fn">fun (<span class="fn">idx</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>) =&gt;
    <span class="fn">⟦<span class="fn">assign1</span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn">↑<span class="fn">idx</span></span>, <span class="fn">hgate</span> := <span class="fn">⋯</span> }</span> }</span>⟧</span></span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.cnfSatAssignment" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.satAssignment_inl"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L126-L128">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.satAssignment_inl"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">satAssignment_inl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign1 : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{x : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">Std.Sat.AIG.toCNF.cnfSatAssignment</a> <span class="fn">aig</span> <span class="fn">assign1</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inl">Sum.inl</a> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">assign1</span> <span class="fn">x</span></span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.satAssignment_inr"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L130-L133">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.satAssignment_inr"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">satAssignment_inr</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign1 : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{x : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">Std.Sat.AIG.toCNF.cnfSatAssignment</a> <span class="fn">aig</span> <span class="fn">assign1</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">⟦<span class="fn">assign1</span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn">↑<span class="fn">x</span></span>, <span class="fn">hgate</span> := <span class="fn">⋯</span> }</span> }</span>⟧</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.Inv"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L135-L159">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.Inv"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">Inv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(cnf : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(marks : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(hmarks : <span class="fn"><span class="fn"><span class="fn">marks</span>.size</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>The central invariants for the <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Cache</a></code>.</p><ul class="structure_fields" id="Std.Sat.AIG.toCNF.Cache.Inv.mk"><li id="Std.Sat.AIG.toCNF.Cache.Inv.hmark" class="structure_field"><div class="structure_field_info">hmark : <span class="fn">∀ (<span class="fn">lhs </span><span class="fn">rhs</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">linv </span><span class="fn">rinv</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>) (<span class="fn">idx</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">hbound</span> : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>),
  <span class="fn"><span class="fn"><span class="fn"><span class="fn">marks</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span> →
    <span class="fn">∀ (<span class="fn">heq</span> : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.gate">Std.Sat.AIG.Decl.gate</a> <span class="fn">lhs</span> <span class="fn">rhs</span> <span class="fn">linv</span> <span class="fn">rinv</span></span></span>), <span class="fn"><span class="fn"><span class="fn"><span class="fn">marks</span>[<span class="fn">lhs</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">marks</span>[<span class="fn">rhs</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></span></span></span></span></div><div class="structure_field_doc"><p>If there exists an AIG node that is marked, its children are also guaranteed to be marked already.
This allows us to conclude that if a gate node is marked, all of its (transitive) children are
also marked.</p></div></li><li id="Std.Sat.AIG.toCNF.Cache.Inv.heval" class="structure_field"><div class="structure_field_info">heval : <span class="fn">∀ (<span class="fn">assign</span> : <span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>),
  <span class="fn"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.eval">Std.Sat.CNF.eval</a> <span class="fn">assign</span> <span class="fn">cnf</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span> →
    <span class="fn">∀ (<span class="fn">idx</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">hbound</span> : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>),
      <span class="fn"><span class="fn"><span class="fn"><span class="fn">marks</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span> →
        <span class="fn"><span class="fn">⟦<span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectLeftAssign">Std.Sat.AIG.toCNF.projectLeftAssign</a> <span class="fn">assign</span></span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn">idx</span>, <span class="fn">hgate</span> := <span class="fn">hbound</span> }</span> }</span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a>           <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectRightAssign">Std.Sat.AIG.toCNF.projectRightAssign</a> <span class="fn">assign</span> <span class="fn">idx</span> <span class="fn">hbound</span></span></span></span></span></span></span></div><div class="structure_field_doc"><p>Relate satisfiability results about our produced CNF to satisfiability results about the AIG that
we are processing. The intuition for this is: if a node is marked, its CNF (and all required
children CNFs according to <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.Inv.hmark">hmark</a></code>) are already part of the current CNF. Thus the current CNF is
already mirroring the semantics of the marked node. This means that if the CNF is satisfiable at
some assignment, we can evaluate the marked node under the atom part of that assignment and will
get the value that was assigned to the corresponding auxiliary variable as a result.</p></div></li></ul><details id="instances-for-list-Std.Sat.AIG.toCNF.Cache.Inv" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.Inv_init"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L162-L171">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.Inv_init"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">Inv_init</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.Inv">Std.Sat.AIG.toCNF.Cache.Inv</a> <span class="fn">[]</span> <span class="fn">(<a href="../../.././Init/Data/Array/Basic.html#Array.mkArray">mkArray</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span> <span class="fn">⋯</span></span></div></div><p>The <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Cache</a></code> invariant always holds for an empty CNF when all nodes are unmarked.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L173-L189">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(cnf : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>The CNF cache. It keeps track of AIG nodes that we already turned into CNF to avoid adding the same
CNF twice.</p><ul class="structure_fields" id="Std.Sat.AIG.toCNF.Cache.mk"><li id="Std.Sat.AIG.toCNF.Cache.marks" class="structure_field"><div class="structure_field_info">marks : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div><div class="structure_field_doc"><p>Keeps track of AIG nodes that we already turned into CNF.</p></div></li><li id="Std.Sat.AIG.toCNF.Cache.hmarks" class="structure_field"><div class="structure_field_info">hmarks : <span class="fn"><span class="fn"><span class="fn"><span class="fn">self</span>.marks</span>.size</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span></div><div class="structure_field_doc"><p>There are always as many marks as AIG nodes.</p></div></li><li id="Std.Sat.AIG.toCNF.Cache.inv" class="structure_field"><div class="structure_field_info">inv : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.Inv">Std.Sat.AIG.toCNF.Cache.Inv</a> <span class="fn">cnf</span> <span class="fn"><span class="fn">self</span>.marks</span> <span class="fn">⋯</span></span></div><div class="structure_field_doc"><p>The invariant to make sure that <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.marks">marks</a></code> is well formed with respect to the <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.cnf">cnf</a></code></p></div></li></ul><details id="instances-for-list-Std.Sat.AIG.toCNF.Cache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.IsExtensionBy"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L191-L207">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.IsExtensionBy"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf1 cnf2 : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(cache1 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(cache2 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf2</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(new : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(hnew : <span class="fn"><span class="fn">new</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>We say that a cache extends another by an index when it doesn't invalidate any entry and has an
entry for that index.</p><ul class="structure_fields" id="Std.Sat.AIG.toCNF.Cache.IsExtensionBy.mk"><li id="Std.Sat.AIG.toCNF.Cache.IsExtensionBy.extension" class="structure_field"><div class="structure_field_info">extension : <span class="fn">∀ (<span class="fn">idx</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">hidx</span> : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>), <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">cache1</span>.marks</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span> → <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache2</span>.marks</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></span></span></div><div class="structure_field_doc"><p>No entry is invalidated.</p></div></li><li id="Std.Sat.AIG.toCNF.Cache.IsExtensionBy.trueAt" class="structure_field"><div class="structure_field_info">trueAt : <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache2</span>.marks</span>[<span class="fn">new</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></div><div class="structure_field_doc"><p>The second cache is true at the new index.</p></div></li></ul><details id="instances-for-list-Std.Sat.AIG.toCNF.Cache.IsExtensionBy" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.IsExtensionBy_trans_left"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L209-L221">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.IsExtensionBy_trans_left"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy_trans_left</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf1 cnf2 cnf3 : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{new1 : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hnew1 : <span class="fn"><span class="fn">new1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{new2 : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hnew2 : <span class="fn"><span class="fn">new2</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(cache1 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(cache2 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf2</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(cache3 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf3</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h12 : <span class="fn"><span class="fn"><span class="fn">cache1</span>.IsExtensionBy</span> <span class="fn">cache2</span> <span class="fn">new1</span> <span class="fn">hnew1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h23 : <span class="fn"><span class="fn"><span class="fn">cache2</span>.IsExtensionBy</span> <span class="fn">cache3</span> <span class="fn">new2</span> <span class="fn">hnew2</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">cache1</span>.IsExtensionBy</span> <span class="fn">cache3</span> <span class="fn">new1</span> <span class="fn">hnew1</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.IsExtensionBy_trans_right"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L223-L233">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.IsExtensionBy_trans_right"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy_trans_right</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf1 cnf2 cnf3 : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{new1 : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hnew1 : <span class="fn"><span class="fn">new1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{new2 : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hnew2 : <span class="fn"><span class="fn">new2</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(cache1 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(cache2 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf2</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(cache3 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf3</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h12 : <span class="fn"><span class="fn"><span class="fn">cache1</span>.IsExtensionBy</span> <span class="fn">cache2</span> <span class="fn">new1</span> <span class="fn">hnew1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h23 : <span class="fn"><span class="fn"><span class="fn">cache2</span>.IsExtensionBy</span> <span class="fn">cache3</span> <span class="fn">new2</span> <span class="fn">hnew2</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">cache1</span>.IsExtensionBy</span> <span class="fn">cache3</span> <span class="fn">new2</span> <span class="fn">hnew2</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.IsExtensionBy_rfl"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L235-L243">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.IsExtensionBy_rfl"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy_rfl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{omega : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(cache : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(hmarked : <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">cache</span>.IsExtensionBy</span> <span class="fn">cache</span> <span class="fn">idx</span> <span class="fn">⋯</span></span></div></div><p>Cache extension is a reflexive relation.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.IsExtensionBy_set"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L245-L251">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.IsExtensionBy_set"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">IsExtensionBy_set</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf1 cnf2 : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(cache1 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(cache2 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf2</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(hbound : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">cache1</span>.marks</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn"><span class="fn">cache2</span>.marks</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache1</span>.marks</span>.set</span> <span class="fn">⟨<span class="fn">idx</span>, <span class="fn">hbound</span>⟩</span> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">cache1</span>.IsExtensionBy</span> <span class="fn">cache2</span> <span class="fn">idx</span> <span class="fn">⋯</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.init"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L253-L259">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.init"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">init</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">[]</span></span></div></div><p>A cache with no entries is valid for an empty CNF.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.init">Std.Sat.AIG.toCNF.Cache.init</a> <span class="fn">aig</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">marks</span> := <span class="fn"><a href="../../.././Init/Data/Array/Basic.html#Array.mkArray">mkArray</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>, <span class="fn">hmarks</span> := <span class="fn">⋯</span>, <span class="fn">inv</span> := <span class="fn">⋯</span> }</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.Cache.init" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.addConst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L261-L297">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.addConst"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">addConst</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{b : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(cache : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(htip : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">b</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">{ <span class="fn">out</span> : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">(<span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.constToCNF">Std.Sat.AIG.Decl.constToCNF</a> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">idx</span>, <span class="fn">h</span>⟩</span>)</span> <span class="fn">b</span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cnf</span>)</span></span> //
  <span class="fn"><span class="fn"><span class="fn">cache</span>.IsExtensionBy</span> <span class="fn">out</span> <span class="fn">idx</span> <span class="fn">h</span></span> }</span></div></div><p>Add a <code>Decl.const</code> to a <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Cache</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.addConst</span> <span class="fn">idx</span> <span class="fn">h</span> <span class="fn">htip</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟨<span class="fn">{ <span class="fn">marks</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>.set</span> <span class="fn">⟨<span class="fn">idx</span>, <span class="fn">⋯</span>⟩</span> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>, <span class="fn">hmarks</span> := <span class="fn">⋯</span>, <span class="fn">inv</span> := <span class="fn">⋯</span> }</span>, <span class="fn">⋯</span>⟩</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.Cache.addConst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.addAtom"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L299-L334">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.addAtom"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">addAtom</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{a : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(cache : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(htip : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">a</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">{ <span class="fn">out</span> : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">(<span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.atomToCNF">Std.Sat.AIG.Decl.atomToCNF</a> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">idx</span>, <span class="fn">h</span>⟩</span>)</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inl">Sum.inl</a> <span class="fn">a</span>)</span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cnf</span>)</span></span> //
  <span class="fn"><span class="fn"><span class="fn">cache</span>.IsExtensionBy</span> <span class="fn">out</span> <span class="fn">idx</span> <span class="fn">h</span></span> }</span></div></div><p>Add a <code>Decl.atom</code> to a cache.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.addAtom</span> <span class="fn">idx</span> <span class="fn">h</span> <span class="fn">htip</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟨<span class="fn">{ <span class="fn">marks</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>.set</span> <span class="fn">⟨<span class="fn">idx</span>, <span class="fn">⋯</span>⟩</span> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>, <span class="fn">hmarks</span> := <span class="fn">⋯</span>, <span class="fn">inv</span> := <span class="fn">⋯</span> }</span>, <span class="fn">⋯</span>⟩</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.Cache.addAtom" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.Cache.addGate"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L336-L389">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.addGate"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">Cache</span>.<span class="name">addGate</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{lhs rhs : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{linv rinv : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(cache : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn">cnf</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{hlb : <span class="fn"><span class="fn">lhs</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hrb : <span class="fn"><span class="fn">rhs</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(htip : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.gate">Std.Sat.AIG.Decl.gate</a> <span class="fn">lhs</span> <span class="fn">rhs</span> <span class="fn">linv</span> <span class="fn">rinv</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(hl : <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>[<span class="fn">lhs</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(hr : <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>[<span class="fn">rhs</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">{ <span class="fn">out</span> :
  <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span>
    <span class="fn">(<span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.gateToCNF">Std.Sat.AIG.Decl.gateToCNF</a> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">idx</span>, <span class="fn">h</span>⟩</span>)</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">lhs</span>, <span class="fn">⋯</span>⟩</span>)</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">rhs</span>, <span class="fn">⋯</span>⟩</span>)</span> <span class="fn">linv</span> <span class="fn">rinv</span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cnf</span>)</span></span> //
  <span class="fn"><span class="fn"><span class="fn">cache</span>.IsExtensionBy</span> <span class="fn">out</span> <span class="fn">idx</span> <span class="fn">h</span></span> }</span></div></div><p>Add a <code>Decl.gate</code> to a cache.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.addGate</span> <span class="fn">idx</span> <span class="fn">h</span> <span class="fn">htip</span> <span class="fn">hl</span> <span class="fn">hr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟨<span class="fn">{ <span class="fn">marks</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">cache</span>.marks</span>.set</span> <span class="fn">⟨<span class="fn">idx</span>, <span class="fn">⋯</span>⟩</span> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>, <span class="fn">hmarks</span> := <span class="fn">⋯</span>, <span class="fn">inv</span> := <span class="fn">⋯</span> }</span>, <span class="fn">⋯</span>⟩</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.Cache.addGate" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.Inv"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L391-L396">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(cnf : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>The key invariant about the <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">State</a></code> itself (without cache): The CNF we produce is always satisfiable
at <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">cnfSatAssignment</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a> <span class="fn">cnf</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">∀ (<span class="fn">assign1</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>), <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Sat">Std.Sat.CNF.Sat</a> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">Std.Sat.AIG.toCNF.cnfSatAssignment</a> <span class="fn">aig</span> <span class="fn">assign1</span>)</span> <span class="fn">cnf</span></span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.Inv" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.Inv_nil"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L398-L402">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv_nil"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_nil</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a> <span class="fn">[]</span></span></div></div><p>The <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">State</a></code> invariant always holds when we have an empty CNF.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.Inv_append"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L404-L413">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv_append"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_append</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig✝ : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{cnf1 cnf2 : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig✝</span>.CNFVar</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(h1 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a> <span class="fn">cnf1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h2 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a> <span class="fn">cnf2</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a> <span class="fn">(<span class="fn">cnf1</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cnf2</span>)</span></span></div></div><p>Combining two CNFs for which <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">State.Inv</a></code> holds preserves <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">State.Inv</a></code>.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.Inv_constToCNF"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L415-L421">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv_constToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_constToCNF</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{upper : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><span class="fn">upper</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{b : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(heq : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">upper</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">b</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.constToCNF">Std.Sat.AIG.Decl.constToCNF</a> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">upper</span>, <span class="fn">h</span>⟩</span>)</span> <span class="fn">b</span>)</span></span></div></div><p><code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">State.Inv</a></code> holds for the CNF that we produce for a <code>Decl.const</code>.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.Inv_atomToCNF"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L423-L429">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv_atomToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_atomToCNF</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{upper : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><span class="fn">upper</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{a : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(heq : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">upper</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">a</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.atomToCNF">Std.Sat.AIG.Decl.atomToCNF</a> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">upper</span>, <span class="fn">h</span>⟩</span>)</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inl">Sum.inl</a> <span class="fn">a</span>)</span>)</span></span></div></div><p><code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">State.Inv</a></code> holds for the CNF that we produce for a <code>Decl.atom</code></p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.Inv_gateToCNF"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L431-L446">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv_gateToCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Inv_gateToCNF</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{upper lhs rhs : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{linv rinv : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><span class="fn">upper</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(heq : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">upper</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.gate">Std.Sat.AIG.Decl.gate</a> <span class="fn">lhs</span> <span class="fn">rhs</span> <span class="fn">linv</span> <span class="fn">rinv</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a>
  <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.Decl.gateToCNF">Std.Sat.AIG.Decl.gateToCNF</a> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">upper</span>, <span class="fn">h</span>⟩</span>)</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">lhs</span>, <span class="fn">⋯</span>⟩</span>)</span> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">rhs</span>, <span class="fn">⋯</span>⟩</span>)</span> <span class="fn">linv</span> <span class="fn">rinv</span>)</span></span></div></div><p><code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">State.Inv</a></code> holds for the CNF that we produce for a <code>Decl.gate</code></p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L448-L463">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>The state to accumulate CNF clauses as we run our Tseitin transformation on the AIG.</p><ul class="structure_fields" id="Std.Sat.AIG.toCNF.State.mk"><li id="Std.Sat.AIG.toCNF.State.cnf" class="structure_field"><div class="structure_field_info">cnf : <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <span class="fn"><span class="fn">aig</span>.CNFVar</span></span></div><div class="structure_field_doc"><p>The CNF clauses so far.</p></div></li><li id="Std.Sat.AIG.toCNF.State.cache" class="structure_field"><div class="structure_field_info">cache : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache">Std.Sat.AIG.toCNF.Cache</a> <span class="fn">aig</span> <span class="fn"><span class="fn">self</span>.cnf</span></span></div><div class="structure_field_doc"><p>A cache so that we don't generate CNF for an AIG node more than once.</p></div></li><li id="Std.Sat.AIG.toCNF.State.inv" class="structure_field"><div class="structure_field_info">inv : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Inv">Std.Sat.AIG.toCNF.State.Inv</a> <span class="fn"><span class="fn">self</span>.cnf</span></span></div><div class="structure_field_doc"><p>The invariant that <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.cnf">cnf</a></code> has to maintain as we build it up.</p></div></li></ul><details id="instances-for-list-Std.Sat.AIG.toCNF.State" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.empty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L465-L471">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.empty"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">empty</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span></div></div><p>An initial state with no CNF clauses and an empty cache.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.empty">Std.Sat.AIG.toCNF.State.empty</a> <span class="fn">aig</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">cnf</span> := <span class="fn">[]</span>, <span class="fn">cache</span> := <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.init">Std.Sat.AIG.toCNF.Cache.init</a> <span class="fn">aig</span></span>, <span class="fn">inv</span> := <span class="fn">⋯</span> }</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.empty" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.IsExtensionBy"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L473-L478">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.IsExtensionBy"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">IsExtensionBy</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(state1 state2 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(new : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(hnew : <span class="fn"><span class="fn">new</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>State extension are <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.Cache.IsExtensionBy">Cache.IsExtensionBy</a></code> for now.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">state1</span>.IsExtensionBy</span> <span class="fn">state2</span> <span class="fn">new</span> <span class="fn">hnew</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">state1</span>.cache</span>.IsExtensionBy</span> <span class="fn"><span class="fn">state2</span>.cache</span> <span class="fn">new</span> <span class="fn">hnew</span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.IsExtensionBy" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.IsExtensionBy_trans_left"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L480-L485">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.IsExtensionBy_trans_left"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">IsExtensionBy_trans_left</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{new1 : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hnew1 : <span class="fn"><span class="fn">new1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{new2 : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hnew2 : <span class="fn"><span class="fn">new2</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(state1 state2 state3 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h12 : <span class="fn"><span class="fn"><span class="fn">state1</span>.IsExtensionBy</span> <span class="fn">state2</span> <span class="fn">new1</span> <span class="fn">hnew1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h23 : <span class="fn"><span class="fn"><span class="fn">state2</span>.IsExtensionBy</span> <span class="fn">state3</span> <span class="fn">new2</span> <span class="fn">hnew2</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">state1</span>.IsExtensionBy</span> <span class="fn">state3</span> <span class="fn">new1</span> <span class="fn">hnew1</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.IsExtensionBy_trans_right"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L487-L492">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.IsExtensionBy_trans_right"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">IsExtensionBy_trans_right</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{new1 : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hnew1 : <span class="fn"><span class="fn">new1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{new2 : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hnew2 : <span class="fn"><span class="fn">new2</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(state1 state2 state3 : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h12 : <span class="fn"><span class="fn"><span class="fn">state1</span>.IsExtensionBy</span> <span class="fn">state2</span> <span class="fn">new1</span> <span class="fn">hnew1</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h23 : <span class="fn"><span class="fn"><span class="fn">state2</span>.IsExtensionBy</span> <span class="fn">state3</span> <span class="fn">new2</span> <span class="fn">hnew2</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">state1</span>.IsExtensionBy</span> <span class="fn">state3</span> <span class="fn">new2</span> <span class="fn">hnew2</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.IsExtensionBy_rfl"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L494-L500">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.IsExtensionBy_rfl"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">IsExtensionBy_rfl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{omega : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">state</span>.cache</span>.marks</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(hmarked : <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">state</span>.cache</span>.marks</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">state</span>.IsExtensionBy</span> <span class="fn">state</span> <span class="fn">idx</span> <span class="fn">⋯</span></span></div></div><p>State extension is a reflexive relation.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.addConst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L502-L512">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.addConst"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">addConst</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{b : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(htip : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">b</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">{ <span class="fn">out</span> : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span> // <span class="fn"><span class="fn"><span class="fn">state</span>.IsExtensionBy</span> <span class="fn">out</span> <span class="fn">idx</span> <span class="fn">h</span></span> }</span></div></div><p>Add the CNF for a <code>Decl.const</code> to the state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.addConst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.addAtom"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L514-L524">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.addAtom"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">addAtom</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{a : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(htip : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">a</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">{ <span class="fn">out</span> : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span> // <span class="fn"><span class="fn"><span class="fn">state</span>.IsExtensionBy</span> <span class="fn">out</span> <span class="fn">idx</span> <span class="fn">h</span></span> }</span></div></div><p>Add the CNF for a <code>Decl.atom</code> to the state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.addAtom" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.addGate"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L526-L544">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.addGate"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">addGate</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{lhs rhs : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{linv rinv : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{hlb : <span class="fn"><span class="fn">lhs</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">state</span>.cache</span>.marks</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hrb : <span class="fn"><span class="fn">rhs</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">state</span>.cache</span>.marks</span>.size</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(htip : <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.gate">Std.Sat.AIG.Decl.gate</a> <span class="fn">lhs</span> <span class="fn">rhs</span> <span class="fn">linv</span> <span class="fn">rinv</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(hl : <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">state</span>.cache</span>.marks</span>[<span class="fn">lhs</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(hr : <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">state</span>.cache</span>.marks</span>[<span class="fn">rhs</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">{ <span class="fn">out</span> : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span> // <span class="fn"><span class="fn"><span class="fn">state</span>.IsExtensionBy</span> <span class="fn">out</span> <span class="fn">idx</span> <span class="fn">h</span></span> }</span></div></div><p>Add the CNF for a <code>Decl.gate</code> to the state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.addGate" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.eval"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L546-L550">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">eval</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(assign : <span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Evaluate the CNF contained within the state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.eval">Std.Sat.AIG.toCNF.State.eval</a> <span class="fn">assign</span> <span class="fn">state</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.eval">Std.Sat.CNF.eval</a> <span class="fn">assign</span> <span class="fn"><span class="fn">state</span>.cnf</span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.eval" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.Sat"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L552-L556">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Sat"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Sat</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(assign : <span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>The CNF within the state is sat.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Sat">Std.Sat.AIG.toCNF.State.Sat</a> <span class="fn">assign</span> <span class="fn">state</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Sat">Std.Sat.CNF.Sat</a> <span class="fn">assign</span> <span class="fn"><span class="fn">state</span>.cnf</span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.Sat" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.Unsat"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L558-L562">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Unsat"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">Unsat</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>The CNF within the state is unsat.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">state</span>.Unsat</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">state</span>.cnf</span>.Unsat</span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.State.Unsat" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.sat_def"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L564-L566">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.sat_def"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">sat_def</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(assign : <span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Sat">Std.Sat.AIG.toCNF.State.Sat</a> <span class="fn">assign</span> <span class="fn">state</span></span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Sat">Std.Sat.CNF.Sat</a> <span class="fn">assign</span> <span class="fn"><span class="fn">state</span>.cnf</span></span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.unsat_def"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L568-L570">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.unsat_def"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">unsat_def</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">state</span>.Unsat</span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn"><span class="fn">state</span>.cnf</span>.Unsat</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.eval_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L572-L573">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.eval_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">eval_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig✝ : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn"><span class="fn">aig✝</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig✝</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.eval">Std.Sat.AIG.toCNF.State.eval</a> <span class="fn">assign</span> <span class="fn">state</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.eval">Std.Sat.CNF.eval</a> <span class="fn">assign</span> <span class="fn"><span class="fn">state</span>.cnf</span></span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.sat_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L575-L576">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.sat_iff"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">sat_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig✝ : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn"><span class="fn">aig✝</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig✝</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Sat">Std.Sat.AIG.toCNF.State.Sat</a> <span class="fn">assign</span> <span class="fn">state</span></span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Sat">Std.Sat.CNF.Sat</a> <span class="fn">assign</span> <span class="fn"><span class="fn">state</span>.cnf</span></span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.State.unsat_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L578-L579">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.unsat_iff"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">State</span>.<span class="name">unsat_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig✝ : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig✝</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">state</span>.Unsat</span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn"><span class="fn">state</span>.cnf</span>.Unsat</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L583-L623">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span></a></span><span class="decl_args">
<span class="fn">(entry : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Entrypoint">Std.Sat.AIG.Entrypoint</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF">Std.Sat.CNF</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Convert an AIG into CNF, starting at some entry node.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.inj"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L591-L594">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.inj"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">inj</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(var : <span class="fn"><span class="fn">aig</span>.CNFVar</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.inj">Std.Sat.AIG.toCNF.inj</a> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inl">Sum.inl</a> <span class="fn">var_1</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">var_1</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.inj">Std.Sat.AIG.toCNF.inj</a> <span class="fn">(<a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">var_1</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">↑<span class="fn">var_1</span></span></span></li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.inj" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L595-L623">source</a></div><div class="attributes">@[irreducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(upper : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn">upper</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">{ <span class="fn">out</span> : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span> // <span class="fn"><span class="fn"><span class="fn">state</span>.IsExtensionBy</span> <span class="fn">out</span> <span class="fn">upper</span> <span class="fn">h</span></span> }</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Sat.AIG.toCNF.go" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Sat.AIG.toCNF.inj_is_injection"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L625-L652">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.inj_is_injection"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">inj_is_injection</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(a b : <span class="fn"><span class="fn">aig</span>.CNFVar</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.inj">Std.Sat.AIG.toCNF.inj</a> <span class="fn">a</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.inj">Std.Sat.AIG.toCNF.inj</a> <span class="fn">b</span></span></span> → <span class="fn"><span class="fn">a</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">b</span></span></span></div></div><p>The function we use to convert from CNF with explicit auxiliary variables to just <code><a href="../../.././Init/Prelude.html#Nat">Nat</a></code> variables
in <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF">toCNF</a></code> is an injection.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.go_marks"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L654-L659">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go_marks"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go_marks</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{start : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><span class="fn">start</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go">Std.Sat.AIG.toCNF.go</a> <span class="fn">aig</span> <span class="fn">start</span> <span class="fn">h</span> <span class="fn">state</span>)</span>.val</span>.cache</span>.marks</span>[<span class="fn">start</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></div></div><p>The node that we started CNF conversion at will always be marked as visited in the CNF cache.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.go_sat"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L661-L669">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go_sat"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go_sat</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(start : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h1 : <span class="fn"><span class="fn">start</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(assign1 : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(state : <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State">Std.Sat.AIG.toCNF.State</a> <span class="fn">aig</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.Sat">Std.Sat.AIG.toCNF.State.Sat</a> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">Std.Sat.AIG.toCNF.cnfSatAssignment</a> <span class="fn">aig</span> <span class="fn">assign1</span>)</span>
  <span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go">Std.Sat.AIG.toCNF.go</a> <span class="fn">aig</span> <span class="fn">start</span> <span class="fn">h1</span> <span class="fn">state</span>)</span>.val</span></span></div></div><p>The CNF returned by <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go">go</a></code> will always be SAT at <code><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">cnfSatAssignment</a></code>.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.go_as_denote'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L671-L675">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go_as_denote'"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go_as_denote'</span></a></span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(start : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h1 : <span class="fn"><span class="fn">start</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(assign1 : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">⟦<span class="fn">assign1</span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn">start</span>, <span class="fn">hgate</span> := <span class="fn">h1</span> }</span> }</span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span> →
  <span class="fn"><span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.eval">Std.Sat.AIG.toCNF.State.eval</a> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">Std.Sat.AIG.toCNF.cnfSatAssignment</a> <span class="fn">aig</span> <span class="fn">assign1</span>)</span>
      <span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go">Std.Sat.AIG.toCNF.go</a> <span class="fn">aig</span> <span class="fn">start</span> <span class="fn">h1</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.empty">Std.Sat.AIG.toCNF.State.empty</a> <span class="fn">aig</span>)</span>)</span>.val</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>     <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.toCNF.go_as_denote"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L677-L685">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go_as_denote"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">go_as_denote</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{sat? : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(start : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h1 : <span class="fn"><span class="fn">start</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(assign1 : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn">⟦<span class="fn">assign1</span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn">start</span>, <span class="fn">hgate</span> := <span class="fn">h1</span> }</span> }</span>⟧</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a>       <span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.eval">Std.Sat.AIG.toCNF.State.eval</a> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.cnfSatAssignment">Std.Sat.AIG.toCNF.cnfSatAssignment</a> <span class="fn">aig</span> <span class="fn">assign1</span>)</span>
        <span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go">Std.Sat.AIG.toCNF.go</a> <span class="fn">aig</span> <span class="fn">start</span> <span class="fn">h1</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.empty">Std.Sat.AIG.toCNF.State.empty</a> <span class="fn">aig</span>)</span>)</span>.val</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>     <span class="fn">sat?</span></span> →
  <span class="fn"><span class="fn">⟦<span class="fn">assign1</span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn">start</span>, <span class="fn">hgate</span> := <span class="fn">h1</span> }</span> }</span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">sat?</span></span></span></div></div><p>Connect SAT results about the CNF to SAT results about the AIG.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF.denote_as_go"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L687-L702">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.denote_as_go"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF</span>.<span class="name">denote_as_go</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{start : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{h1 : <span class="fn"><span class="fn">start</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn"><span class="fn">aig</span>.CNFVar</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">⟦<span class="fn"><a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.projectLeftAssign">Std.Sat.AIG.toCNF.projectLeftAssign</a> <span class="fn">assign</span></span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn">start</span>, <span class="fn">hgate</span> := <span class="fn">h1</span> }</span> }</span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span> →
  <span class="fn"><span class="fn"><a href="../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.eval">Std.Sat.CNF.eval</a> <span class="fn">assign</span>
      <span class="fn">(<span class="fn">[<span class="fn">(<span class="fn"><a href="../../.././Init/Core.html#Sum.inr">Sum.inr</a> <span class="fn">⟨<span class="fn">start</span>, <span class="fn">h1</span>⟩</span></span>, <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>]</span> <a href="../../.././Init/Prelude.html#List.cons">::</a>         <span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.go">Std.Sat.AIG.toCNF.go</a> <span class="fn">aig</span> <span class="fn">start</span> <span class="fn">h1</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF.State.empty">Std.Sat.AIG.toCNF.State.empty</a> <span class="fn">aig</span>)</span>)</span>.val</span>.cnf</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>     <a href="../../.././Init/Prelude.html#Bool.false">false</a></span></span></div></div><p>Connect SAT results about the AIG to SAT results about the CNF.</p></div></div><div class="decl" id="Std.Sat.AIG.toCNF_equisat"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CNF.lean#L704-L721">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF_equisat"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">toCNF_equisat</span></a></span><span class="decl_args">
<span class="fn">(entry : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Entrypoint">Std.Sat.AIG.Entrypoint</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/CNF.html#Std.Sat.AIG.toCNF">Std.Sat.AIG.toCNF</a> <span class="fn">entry</span>)</span>.Unsat</span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn">entry</span>.Unsat</span></span></div></div><p>An AIG is unsat iff its CNF is unsat.</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>