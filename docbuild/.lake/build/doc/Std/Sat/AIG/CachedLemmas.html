<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Std.Sat.AIG.CachedLemmas</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Std.Sat.AIG.CachedLemmas";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">CachedLemmas</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Std/Sat/AIG/Cached.html">Std.Sat.AIG.Cached</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Std.Sat.AIG.CachedLemmas" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.denote_mkAtom_cached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">denote_mkAtom_cached</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkAtomCached_hit_aig"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_hit_aig</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkAtomCached_miss_aig"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_miss_aig</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkAtomCached_decl_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_decl_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkAtomCached_le_size"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_le_size</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.instLawfulOperatorMkAtomCached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">instLawfulOperatorMkAtomCached</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkAtomCached_eval_eq_mkAtom_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_eval_eq_mkAtom_eval</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.denote_mkConst_cached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">denote_mkConst_cached</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkConstCached_hit_aig"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_hit_aig</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkConstCached_miss_aig"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_miss_aig</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkConstCached_decl_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_decl_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkConstCached_le_size"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_le_size</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.instLawfulOperatorBoolMkConstCached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">instLawfulOperatorBoolMkConstCached</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkConstCached_eval_eq_mkConst_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_eval_eq_mkConst_eval</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.denote_mkGate_cached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">denote_mkGate_cached</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkGateCached.go_le_size"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached</span>.<span class="name">go_le_size</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkGateCached_le_size"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached_le_size</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkGateCached.go_decl_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached</span>.<span class="name">go_decl_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkGateCached_decl_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached_decl_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.instLawfulOperatorGateInputMkGateCached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">instLawfulOperatorGateInputMkGateCached</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkGateCached.go_eval_eq_mkGate_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached</span>.<span class="name">go_eval_eq_mkGate_eval</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Sat.AIG.mkGateCached_eval_eq_mkGate_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached_eval_eq_mkGate_eval</span></a></div></nav><main>
<div class="mod_doc"><p>This module contains the theory of the cached AIG node creation functions.
It is mainly concerned with proving lemmas about the denotational semantics of the gate functions
in different scenarios, in particular reductions to the semantics of the non cached versions.</p></div><div class="decl" id="Std.Sat.AIG.denote_mkAtom_cached"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L22-L32">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.denote_mkAtom_cached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">denote_mkAtom_cached</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{v : <span class="fn">α</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hit : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.CacheHit">Std.Sat.AIG.CacheHit</a> <span class="fn"><span class="fn">aig</span>.decls</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">v</span>)</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.cache</span>.get?</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">v</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">hit</span></span></span> →
  <span class="fn"><span class="fn">⟦<span class="fn">assign</span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn"><span class="fn">hit</span>.idx</span>, <span class="fn">hgate</span> := <span class="fn">⋯</span> }</span> }</span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkAtom</span> <span class="fn">v</span></span>⟧</span></span></span></div></div><p>If we find a cached atom declaration in the AIG, denoting it is equivalent to denoting <code>AIG.mkAtom</code>.</p></div></div><div class="decl" id="Std.Sat.AIG.mkAtomCached_hit_aig"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L34-L40">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkAtomCached_hit_aig"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_hit_aig</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{var : <span class="fn">α</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{hit : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.CacheHit">Std.Sat.AIG.CacheHit</a> <span class="fn"><span class="fn">aig</span>.decls</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">var</span>)</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(hcache : <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.cache</span>.get?</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">var</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">hit</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkAtomCached</span> <span class="fn">var</span>)</span>.aig</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">aig</span></span></div></div><p><code>mkAtomCached</code> does not modify the input AIG upon a cache hit.</p></div></div><div class="decl" id="Std.Sat.AIG.mkAtomCached_miss_aig"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L42-L48">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkAtomCached_miss_aig"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_miss_aig</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{var : <span class="fn">α</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(hcache : <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.cache</span>.get?</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">var</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkAtomCached</span> <span class="fn">var</span>)</span>.aig</span>.decls</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.push</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.atom">Std.Sat.AIG.Decl.atom</a> <span class="fn">var</span>)</span></span></span></div></div><p><code>mkAtomCached</code> pushes to the input AIG upon a cache miss.</p></div></div><div class="decl" id="Std.Sat.AIG.mkAtomCached_decl_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L50-L66">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkAtomCached_decl_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_decl_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(var : <span class="fn">α</span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hbound : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkAtomCached</span> <span class="fn">var</span>)</span>.aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkAtomCached</span> <span class="fn">var</span>)</span>.aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span></span></div></div><p>The AIG produced by <code>AIG.mkAtomCached</code> agrees with the input AIG on all indices that are valid for
both.</p></div></div><div class="decl" id="Std.Sat.AIG.mkAtomCached_le_size"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L68-L76">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkAtomCached_le_size"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_le_size</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(var : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkAtomCached</span> <span class="fn">var</span>)</span>.aig</span>.decls</span>.size</span></span></div></div><p><code>AIG.mkAtomCached</code> never shrinks the underlying AIG.</p></div></div><div class="decl" id="Std.Sat.AIG.instLawfulOperatorMkAtomCached"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L78-L80">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.instLawfulOperatorMkAtomCached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">instLawfulOperatorMkAtomCached</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/LawfulOperator.html#Std.Sat.AIG.LawfulOperator">Std.Sat.AIG.LawfulOperator</a> <span class="fn">α</span> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>) =&gt; <span class="fn">α</span>)</span> <span class="fn">Std.Sat.AIG.mkAtomCached</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></span></li></ul></details></div></div><div class="decl" id="Std.Sat.AIG.mkAtomCached_eval_eq_mkAtom_eval"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L82-L92">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkAtomCached_eval_eq_mkAtom_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkAtomCached_eval_eq_mkAtom_eval</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{var : <span class="fn">α</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkAtomCached</span> <span class="fn">var</span></span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkAtom</span> <span class="fn">var</span></span>⟧</span></span></div></div><p>The central equality theorem between <code>mkAtomCached</code> and <code>mkAtom</code>.</p></div></div><div class="decl" id="Std.Sat.AIG.denote_mkConst_cached"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L94-L105">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.denote_mkConst_cached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">denote_mkConst_cached</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{b : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hit : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.CacheHit">Std.Sat.AIG.CacheHit</a> <span class="fn"><span class="fn">aig</span>.decls</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">b</span>)</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.cache</span>.get?</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">b</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">hit</span></span></span> →
  <span class="fn"><span class="fn">⟦<span class="fn">assign</span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn"><span class="fn">hit</span>.idx</span>, <span class="fn">hgate</span> := <span class="fn">⋯</span> }</span> }</span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkConst</span> <span class="fn">b</span></span>⟧</span></span></span></div></div><p>If we find a cached const declaration in the AIG, denoting it is equivalent to denoting
<code>AIG.mkConst</code>.</p></div></div><div class="decl" id="Std.Sat.AIG.mkConstCached_hit_aig"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L107-L114">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkConstCached_hit_aig"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_hit_aig</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{val : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{hit : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.CacheHit">Std.Sat.AIG.CacheHit</a> <span class="fn"><span class="fn">aig</span>.decls</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">val</span>)</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(hcache : <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.cache</span>.get?</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">val</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">hit</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkConstCached</span> <span class="fn">val</span>)</span>.aig</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">aig</span></span></div></div><p><code>mkConstCached</code> does not modify the input AIG upon a cache hit.</p></div></div><div class="decl" id="Std.Sat.AIG.mkConstCached_miss_aig"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L116-L122">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkConstCached_miss_aig"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_miss_aig</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{val : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(hcache : <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.cache</span>.get?</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">val</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkConstCached</span> <span class="fn">val</span>)</span>.aig</span>.decls</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.push</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.const">Std.Sat.AIG.Decl.const</a> <span class="fn">val</span>)</span></span></span></div></div><p><code>mkConstCached</code> pushes to the input AIG upon a cache miss.</p></div></div><div class="decl" id="Std.Sat.AIG.mkConstCached_decl_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L124-L140">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkConstCached_decl_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_decl_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(val : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hbound : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkConstCached</span> <span class="fn">val</span>)</span>.aig</span>.decls</span>.size</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkConstCached</span> <span class="fn">val</span>)</span>.aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span></span></div></div><p>The AIG produced by <code>AIG.mkConstCached</code> agrees with the input AIG on all indices that are valid for
both.</p></div></div><div class="decl" id="Std.Sat.AIG.mkConstCached_le_size"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L142-L150">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkConstCached_le_size"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_le_size</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(val : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkConstCached</span> <span class="fn">val</span>)</span>.aig</span>.decls</span>.size</span></span></div></div><p><code>AIG.mkConstCached</code> never shrinks the underlying AIG.</p></div></div><div class="decl" id="Std.Sat.AIG.instLawfulOperatorBoolMkConstCached"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L152-L156">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.instLawfulOperatorBoolMkConstCached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">instLawfulOperatorBoolMkConstCached</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/LawfulOperator.html#Std.Sat.AIG.LawfulOperator">Std.Sat.AIG.LawfulOperator</a> <span class="fn">α</span> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>) =&gt; <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span> <span class="fn">Std.Sat.AIG.mkConstCached</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></span></li></ul></details></div></div><div class="decl" id="Std.Sat.AIG.mkConstCached_eval_eq_mkConst_eval"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L158-L168">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkConstCached_eval_eq_mkConst_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkConstCached_eval_eq_mkConst_eval</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{val : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkConstCached</span> <span class="fn">val</span></span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkConst</span> <span class="fn">val</span></span>⟧</span></span></div></div><p>The central equality theorem between <code>mkConstCached</code> and <code>mkConst</code>.</p></div></div><div class="decl" id="Std.Sat.AIG.denote_mkGate_cached"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L170-L185">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.denote_mkGate_cached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">denote_mkGate_cached</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{input : <span class="fn"><span class="fn">aig</span>.GateInput</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{hit :
  <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.CacheHit">Std.Sat.AIG.CacheHit</a> <span class="fn"><span class="fn">aig</span>.decls</span>
    <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.gate">Std.Sat.AIG.Decl.gate</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">input</span>.lhs</span>.ref</span>.gate</span> <span class="fn"><span class="fn"><span class="fn"><span class="fn">input</span>.rhs</span>.ref</span>.gate</span> <span class="fn"><span class="fn"><span class="fn">input</span>.lhs</span>.inv</span> <span class="fn"><span class="fn"><span class="fn">input</span>.rhs</span>.inv</span>)</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.cache</span>.get?</span> <span class="fn">(<a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG.Decl.gate">Std.Sat.AIG.Decl.gate</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">input</span>.lhs</span>.ref</span>.gate</span> <span class="fn"><span class="fn"><span class="fn"><span class="fn">input</span>.rhs</span>.ref</span>.gate</span> <span class="fn"><span class="fn"><span class="fn">input</span>.lhs</span>.inv</span> <span class="fn"><span class="fn"><span class="fn">input</span>.rhs</span>.inv</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">hit</span></span></span> →
  <span class="fn"><span class="fn">⟦<span class="fn">assign</span>, <span class="fn">{ <span class="fn">aig</span> := <span class="fn">aig</span>, <span class="fn">ref</span> := <span class="fn">{ <span class="fn">gate</span> := <span class="fn"><span class="fn">hit</span>.idx</span>, <span class="fn">hgate</span> := <span class="fn">⋯</span> }</span> }</span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkGate</span> <span class="fn">input</span></span>⟧</span></span></span></div></div><p>If we find a cached gate declaration in the AIG, denoting it is equivalent to denoting <code>AIG.mkGate</code>.</p></div></div><div class="decl" id="Std.Sat.AIG.mkGateCached.go_le_size"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L187-L203">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkGateCached.go_le_size"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached</span>.<span class="name">go_le_size</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(input : <span class="fn"><span class="fn">aig</span>.GateInput</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/Cached.html#Std.Sat.AIG.mkGateCached.go">Std.Sat.AIG.mkGateCached.go</a> <span class="fn">aig</span> <span class="fn">input</span>)</span>.aig</span>.decls</span>.size</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.mkGateCached_le_size"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L205-L213">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkGateCached_le_size"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached_le_size</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(input : <span class="fn"><span class="fn">aig</span>.GateInput</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkGateCached</span> <span class="fn">input</span>)</span>.aig</span>.decls</span>.size</span></span></div></div><p><code>AIG.mkGateCached</code> never shrinks the underlying AIG.</p></div></div><div class="decl" id="Std.Sat.AIG.mkGateCached.go_decl_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L215-L261">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkGateCached.go_decl_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached</span>.<span class="name">go_decl_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(input : <span class="fn"><span class="fn">aig</span>.GateInput</span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h1 : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/Cached.html#Std.Sat.AIG.mkGateCached.go">Std.Sat.AIG.mkGateCached.go</a> <span class="fn">aig</span> <span class="fn">input</span>)</span>.aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h2 : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Std/Sat/AIG/Cached.html#Std.Sat.AIG.mkGateCached.go">Std.Sat.AIG.mkGateCached.go</a> <span class="fn">aig</span> <span class="fn">input</span>)</span>.aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.mkGateCached_decl_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L263-L276">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkGateCached_decl_eq"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached_decl_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(input : <span class="fn"><span class="fn">aig</span>.GateInput</span>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(h1 : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkGateCached</span> <span class="fn">input</span>)</span>.aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(h2 : <span class="fn"><span class="fn">idx</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>.size</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">aig</span>.mkGateCached</span> <span class="fn">input</span>)</span>.aig</span>.decls</span>[<span class="fn">idx</span>]</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">aig</span>.decls</span>[<span class="fn">idx</span>]</span></span></div></div><p>The AIG produced by <code>AIG.mkGateCached</code> agrees with the input AIG on all indices that are valid for
both.</p></div></div><div class="decl" id="Std.Sat.AIG.instLawfulOperatorGateInputMkGateCached"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L278-L282">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.instLawfulOperatorGateInputMkGateCached"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">instLawfulOperatorGateInputMkGateCached</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Sat/AIG/LawfulOperator.html#Std.Sat.AIG.LawfulOperator">Std.Sat.AIG.LawfulOperator</a> <span class="fn">α</span> <span class="fn">Std.Sat.AIG.GateInput</span> <span class="fn">Std.Sat.AIG.mkGateCached</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></span></li></ul></details></div></div><div class="decl" id="Std.Sat.AIG.mkGateCached.go_eval_eq_mkGate_eval"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L284-L323">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkGateCached.go_eval_eq_mkGate_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached</span>.<span class="name">go_eval_eq_mkGate_eval</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{input : <span class="fn"><span class="fn">aig</span>.GateInput</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><a href="../../.././Std/Sat/AIG/Cached.html#Std.Sat.AIG.mkGateCached.go">Std.Sat.AIG.mkGateCached.go</a> <span class="fn">aig</span> <span class="fn">input</span></span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkGate</span> <span class="fn">input</span></span>⟧</span></span></div></div></div></div><div class="decl" id="Std.Sat.AIG.mkGateCached_eval_eq_mkGate_eval"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/410fab7284703f41660ca2454218dcca9b2ec896/src/Std/Sat/AIG/CachedLemmas.lean#L325-L336">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Sat/AIG/CachedLemmas.html#Std.Sat.AIG.mkGateCached_eval_eq_mkGate_eval"><span class="name">Std</span>.<span class="name">Sat</span>.<span class="name">AIG</span>.<span class="name">mkGateCached_eval_eq_mkGate_eval</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{assign : <span class="fn"><span class="fn">α</span> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{aig : <span class="fn"><a href="../../.././Std/Sat/AIG/Basic.html#Std.Sat.AIG">Std.Sat.AIG</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{input : <span class="fn"><span class="fn">aig</span>.GateInput</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkGateCached</span> <span class="fn">input</span></span>⟧</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⟦<span class="fn">assign</span>, <span class="fn"><span class="fn"><span class="fn">aig</span>.mkGate</span> <span class="fn">input</span></span>⟧</span></span></div></div><p>The central equality theorem between <code>mkGateCached</code> and <code>mkGate</code>.</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>